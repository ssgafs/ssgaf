<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Ваша игра</title>
    <script>
        let userScore = 0;

        function incrementScore() {
            userScore += 1;
            document.getElementById("score").textContent = userScore;
        }

        function sendScore() {
            const xhr = new XMLHttpRequest();
            xhr.open("POST", "http://localhost:5000/update_score", true); // URL должен быть правильным
            xhr.setRequestHeader('Content-Type', 'application/json');
            const userId = localStorage.getItem('user_id'); // Пример сохранения user_id в localStorage
            const data = JSON.stringify({ score: userScore, user_id: userId });
            xhr.send(data);
        }

        // Установим user_id в localStorage для примера
        if (!localStorage.getItem('user_id')) {
            localStorage.setItem('user_id', Math.floor(Math.random() * 1000000));
        }
    </script>
</head>
<body>
    <h1>Ваша игра</h1>
    <p>Счет: <span id="score">0</span></p>
    <button onclick="incrementScore()">Тап!</button>
    <button onclick="sendScore()">Отправить счет</button>
</body>
</html>
